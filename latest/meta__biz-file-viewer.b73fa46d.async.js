"use strict";(self.webpackChunkantd_more=self.webpackChunkantd_more||[]).push([[8569],{59274:function(I,a,e){var d;e.r(a),e.d(a,{demos:function(){return F}});var v=e(90228),m=e.n(v),y=e(87999),p=e.n(y),o=e(75271),h=e(49171),E=e(63117),f=e(11900),P=e(56073),b=e(20396),x=e.n(b),c=e(1657),M=e(62123),r=e(71404),F={"biz-file-viewer-demo-basic":{component:o.memo(o.lazy(function(){return e.e(2502).then(e.bind(e,81666))})),asset:{type:"BLOCK",id:"biz-file-viewer-demo-basic",refAtomIds:["biz-file-viewer"],dependencies:{"index.tsx":{type:"FILE",value:e(87032).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"6.1.4"},"antd-more":{type:"NPM",value:"6.0.4"},"rc-hooks":{type:"NPM",value:"3.2.1"}},entry:"index.tsx"},context:{react:d||(d=e.t(o,2)),antd:h,"antd-more":E,"rc-hooks":f},renderOpts:{compile:function(){var l=p()(m()().mark(function _(){var i,t=arguments;return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(1216).then(e.bind(e,69724));case 2:return n.abrupt("return",(i=n.sent).default.apply(i,t));case 3:case"end":return n.stop()}},_)}));function u(){return l.apply(this,arguments)}return u}()}},"biz-file-viewer-demo-multiple":{component:o.memo(o.lazy(function(){return e.e(2502).then(e.bind(e,35534))})),asset:{type:"BLOCK",id:"biz-file-viewer-demo-multiple",refAtomIds:["biz-file-viewer"],dependencies:{"index.tsx":{type:"FILE",value:e(19132).Z},react:{type:"NPM",value:"18.3.1"},"rc-hooks":{type:"NPM",value:"3.2.1"},antd:{type:"NPM",value:"6.1.4"},"antd-more":{type:"NPM",value:"6.0.4"}},entry:"index.tsx"},context:{react:d||(d=e.t(o,2)),"rc-hooks":f,antd:h,"antd-more":E},renderOpts:{compile:function(){var l=p()(m()().mark(function _(){var i,t=arguments;return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(1216).then(e.bind(e,69724));case 2:return n.abrupt("return",(i=n.sent).default.apply(i,t));case 3:case"end":return n.stop()}},_)}));function u(){return l.apply(this,arguments)}return u}()}},"biz-file-viewer-demo-custom":{component:o.memo(o.lazy(function(){return e.e(2502).then(e.bind(e,65755))})),asset:{type:"BLOCK",id:"biz-file-viewer-demo-custom",refAtomIds:["biz-file-viewer"],dependencies:{"index.tsx":{type:"FILE",value:e(33142).Z},react:{type:"NPM",value:"18.3.1"},"rc-hooks":{type:"NPM",value:"3.2.1"},antd:{type:"NPM",value:"6.1.4"},"antd-more":{type:"NPM",value:"6.0.4"},"./OfdView.tsx":{type:"FILE",value:e(17320).Z},"ofd-pageview":{type:"NPM",value:"1.4.4"}},entry:"index.tsx"},context:{"./OfdView.tsx":P,react:d||(d=e.t(o,2)),"rc-hooks":f,antd:h,"antd-more":E,"/home/runner/work/antd-more/antd-more/src/biz-file-viewer/demos/OfdView.tsx":P,"ofd-pageview":b},renderOpts:{compile:function(){var l=p()(m()().mark(function _(){var i,t=arguments;return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(1216).then(e.bind(e,69724));case 2:return n.abrupt("return",(i=n.sent).default.apply(i,t));case 3:case"end":return n.stop()}},_)}));function u(){return l.apply(this,arguments)}return u}()}},"biz-file-viewer-demo-upload-file-viewer":{component:o.memo(o.lazy(function(){return e.e(2502).then(e.bind(e,44803))})),asset:{type:"BLOCK",id:"biz-file-viewer-demo-upload-file-viewer",refAtomIds:["biz-file-viewer"],dependencies:{"index.tsx":{type:"FILE",value:e(17401).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"6.0.4"},"./services.ts":{type:"FILE",value:e(11322).Z},"./components/DemoForm.tsx":{type:"FILE",value:e(48562).Z},ut2:{type:"NPM",value:"1.21.2"},"rc-hooks":{type:"NPM",value:"3.2.1"},antd:{type:"NPM",value:"6.1.4"}},entry:"index.tsx"},context:{"./services.ts":c,"./components/DemoForm.tsx":M,react:d||(d=e.t(o,2)),"antd-more":E,"/home/runner/work/antd-more/antd-more/src/biz-form/demos/services.ts":c,"/home/runner/work/antd-more/antd-more/src/biz-form/demos/components/DemoForm/index.tsx":M,ut2:r,"rc-hooks":f,antd:h},renderOpts:{compile:function(){var l=p()(m()().mark(function _(){var i,t=arguments;return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(1216).then(e.bind(e,69724));case 2:return n.abrupt("return",(i=n.sent).default.apply(i,t));case 3:case"end":return n.stop()}},_)}));function u(){return l.apply(this,arguments)}return u}()}},"biz-file-viewer-demo-upload":{component:o.memo(o.lazy(function(){return e.e(2502).then(e.bind(e,88583))})),asset:{type:"BLOCK",id:"biz-file-viewer-demo-upload",refAtomIds:["biz-file-viewer"],dependencies:{"index.tsx":{type:"FILE",value:e(337).Z},react:{type:"NPM",value:"18.3.1"},"antd-more":{type:"NPM",value:"6.0.4"},"./OfdView.tsx":{type:"FILE",value:e(17320).Z},"ofd-pageview":{type:"NPM",value:"1.4.4"},"rc-hooks":{type:"NPM",value:"3.2.1"},antd:{type:"NPM",value:"6.1.4"}},entry:"index.tsx"},context:{"./OfdView.tsx":P,react:d||(d=e.t(o,2)),"antd-more":E,"/home/runner/work/antd-more/antd-more/src/biz-file-viewer/demos/OfdView.tsx":P,"ofd-pageview":b,"rc-hooks":f,antd:h},renderOpts:{compile:function(){var l=p()(m()().mark(function _(){var i,t=arguments;return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.e(1216).then(e.bind(e,69724));case 2:return n.abrupt("return",(i=n.sent).default.apply(i,t));case 3:case"end":return n.stop()}},_)}));function u(){return l.apply(this,arguments)}return u}()}}}},56073:function(I,a,e){e.r(a);var d=e(335),v=e.n(d),m=e(48305),y=e.n(m),p=e(75271),o=e(20396),h=e.n(o),E=e(12948),f=e(59554),P=e(52676),b=function(c){var M=c.fileUrl,r=c.fileName,F=c.screenWidth,l=(0,p.useRef)(null),u=(0,E.Z)(!1),_=y()(u,2),i=_[0],t=_[1];return(0,p.useEffect)(function(){l.current&&(t(!0),l.current.innerHTML="",(0,o.parseOfdDocument)({ofd:M,success:function(n){var L,O=n[0],R=F||((L=l.current)===null||L===void 0?void 0:L.clientWidth)||800,j=(0,o.renderOfd)(R,O),C=v()(j),U;try{for(C.s();!(U=C.n()).done;){var z=U.value;l.current&&l.current.appendChild(z)}}catch(A){C.e(A)}finally{C.f()}t(!1)},error:function(n){t(!1),console.error(n),l.current&&(l.current.innerHTML="\u8BE5\u6587\u4EF6\u4E0D\u652F\u6301\u9884\u89C8\uFF0C\u4F60\u53EF\u5C1D\u8BD5<a href=".concat(M," download=").concat(r,">\u70B9\u51FB\u4E0B\u8F7D</a>\u3002"))}}))},[r,M,F,t]),(0,P.jsx)(f.Z,{spinning:i,children:(0,P.jsx)("div",{ref:l,style:{overflow:"hidden"}})})};a.default=b},62123:function(I,a,e){e.r(a);var d=e(90228),v=e.n(d),m=e(87999),y=e.n(m),p=e(26068),o=e.n(p),h=e(48305),E=e.n(h),f=e(67825),P=e.n(f),b=e(75271),x=e(8926),c=e(21917),M=e(65598),r=e(55761),F=e(67929),l=e(11008),u=e(60477),_=e(95099),i=e(25742),t=e(52676),g=["labelWidth","hideLabel","layout","requiredMark","size","variant","children"],n=function(O){var R=O.labelWidth,j=R===void 0?84:R,C=O.hideLabel,U=C===void 0?!1:C,z=O.layout,A=z===void 0?"horizontal":z,S=O.requiredMark,k=S===void 0?!0:S,K=O.size,H=K===void 0?"middle":K,V=O.variant,G=V===void 0?"outlined":V,J=O.children,Q=P()(O,g),X=(0,b.useId)(),Z={labelWidth:j,hideLabel:U,layout:A,requiredMark:k,size:H,variant:G},Y=(0,c.Z)(o()({},Z)),N=E()(Y,2),B=N[0],T=N[1];return(0,t.jsxs)("div",{className:"demo-form",children:[(0,t.jsx)(r.Z,{bordered:!1,items:[{key:"1",label:"\u5207\u6362\u663E\u793A/\u9690\u85CF\u914D\u7F6E\u9762\u677F",extra:(0,t.jsx)(F.ZP,{type:"link",size:"small",onClick:function(s){s.stopPropagation(),T(o()({},Z))},children:"\u70B9\u51FB\u6062\u590D\u521D\u59CB\u914D\u7F6E"}),children:(0,t.jsxs)(l.Z,{gap:16,align:"center",wrap:!0,children:[(0,t.jsxs)("div",{children:["layout:\xA0",(0,t.jsx)(u.default,{options:[{label:"vertical",value:"vertical"},{label:"horizontal",value:"horizontal"},{label:"inline",value:"inline"}],value:B.layout,onChange:function(s){T({layout:s})},style:{width:120}})]}),(0,t.jsxs)("div",{children:["requiredMark:\xA0",(0,t.jsx)(u.default,{options:[{label:"true",value:!0},{label:"false",value:!1},{label:"optional",value:"optional"},{label:"customize",value:"customize"}],value:B.requiredMark,onChange:function(s){T({requiredMark:s})},style:{width:120}})]}),(0,t.jsxs)("div",{children:["size:\xA0",(0,t.jsx)(u.default,{options:[{label:"small",value:"small"},{label:"middle",value:"middle"},{label:"large",value:"large"}],value:B.size,onChange:function(s){T({size:s})},style:{width:120}})]}),(0,t.jsxs)("div",{children:["variant:\xA0",(0,t.jsx)(u.default,{options:[{label:"outlined",value:"outlined"},{label:"filled",value:"filled"},{label:"borderless",value:"borderless"},{label:"underlined",value:"underlined"}],value:B.variant,onChange:function(s){T({variant:s})},style:{width:120}})]}),(0,t.jsxs)("div",{children:["labelWidth:\xA0",(0,t.jsx)(u.default,{options:[{label:"84",value:84},{label:"98",value:98},{label:"112",value:112},{label:"126",value:126},{label:"140",value:140},{label:"154",value:154},{label:"168",value:168},{label:"auto",value:"auto"}],value:B.labelWidth,onChange:function(s){T({labelWidth:s})},style:{width:120}})]}),(0,t.jsxs)("div",{children:["hideLabel:\xA0",(0,t.jsx)(_.Z,{value:B.hideLabel,onChange:function(s){T({hideLabel:s})}})]})]})}]}),(0,t.jsx)(i.Z,{}),(0,t.jsx)(x.ZP,o()(o()(o()({name:X,onFinish:function(){var D=y()(v()().mark(function s(W){return v()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,M.Z)(500);case 2:console.log(W);case 3:case"end":return w.stop()}},s)}));return function(s){return D.apply(this,arguments)}}(),scrollToFirstError:{behavior:function(s){s.forEach(function(W){var $=W.el,w=W.top;$.scrollTop=w-76})}}},B),Q),{},{children:J}))]})};a.default=n},1657:function(I,a,e){e.r(a),e.d(a,{downloadFile:function(){return E},sendCaptcha:function(){return P},uploadFile:function(){return o}});var d=e(90228),v=e.n(d),m=e(87999),y=e.n(m),p=e(65598);function o(x){return h.apply(this,arguments)}function h(){return h=y()(v()().mark(function x(c){return v()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("uploadFile: ",c),r.next=3,(0,p.Z)();case 3:if(!(Math.random()>.2)){r.next=5;break}return r.abrupt("return",{fssid:"".concat(Math.random().toString(16).substring(2))});case 5:throw new Error("error");case 6:case"end":return r.stop()}},x)})),h.apply(this,arguments)}function E(x){return f.apply(this,arguments)}function f(){return f=y()(v()().mark(function x(c){return v()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("downloadFile: ",c),r.next=3,(0,p.Z)();case 3:if(!(Math.random()>.2)){r.next=5;break}return r.abrupt("return",{data:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"});case 5:throw new Error("error");case 6:case"end":return r.stop()}},x)})),f.apply(this,arguments)}function P(x){return b.apply(this,arguments)}function b(){return b=y()(v()().mark(function x(c){return v()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("mobile: ",c),r.next=3,(0,p.Z)();case 3:return r.abrupt("return");case 4:case"end":return r.stop()}},x)})),b.apply(this,arguments)}},2730:function(I,a,e){e.r(a),e.d(a,{texts:function(){return d}});const d=[{value:"\u76EE\u524D\u652F\u6301 ",paraId:0,tocIndex:0},{value:"image",paraId:0,tocIndex:0},{value:" ",paraId:0,tocIndex:0},{value:"audio",paraId:0,tocIndex:0},{value:" ",paraId:0,tocIndex:0},{value:"video",paraId:0,tocIndex:0},{value:" ",paraId:0,tocIndex:0},{value:"pdf",paraId:0,tocIndex:0},{value:" \u7B49\u6587\u4EF6\u7C7B\u578B\u9884\u89C8\uFF0C\u5176\u4ED6\u6587\u4EF6\u7C7B\u578B\u4F1A\u63D0\u4F9B\u70B9\u51FB\u4E0B\u8F7D\u63D0\u793A\u3002\u4F60\u4E5F\u53EF\u4EE5\u901A\u8FC7 ",paraId:0,tocIndex:0},{value:"renderView",paraId:0,tocIndex:0},{value:" \u81EA\u5B9A\u4E49\u9884\u89C8\u3002",paraId:0,tocIndex:0},{value:"pdf \u9884\u89C8\u4F7F\u7528 ",paraId:1,tocIndex:0},{value:"iframe",paraId:1,tocIndex:0},{value:"\uFF0C\u5728\u79FB\u52A8\u7AEF\u4E2D\u9700\u4F20\u5165 https \u5730\u5740\uFF0C\u53C2\u8003 ",paraId:1,tocIndex:0},{value:"iFrames not loading on mobile or tablet",paraId:1,tocIndex:0},{value:"\u3002",paraId:1,tocIndex:0},{value:"\u9002\u7528\u4E8E\u8BE6\u60C5\u9875\u5C55\u793A\u3002",paraId:2,tocIndex:6},{value:"\u53C2\u6570",paraId:3,tocIndex:8},{value:"\u8BF4\u660E",paraId:3,tocIndex:8},{value:"\u7C7B\u578B",paraId:3,tocIndex:8},{value:"\u9ED8\u8BA4\u503C",paraId:3,tocIndex:8},{value:"file",paraId:3,tocIndex:8},{value:"\u8981\u9884\u89C8\u7684\u6587\u4EF6\u3002\u652F\u6301 ",paraId:3,tocIndex:8},{value:"url",paraId:3,tocIndex:8},{value:" \u6216 ",paraId:3,tocIndex:8},{value:"UploadFile",paraId:3,tocIndex:8},{value:" \u6216 ",paraId:3,tocIndex:8},{value:"File",paraId:3,tocIndex:8},{value:"\u3002",paraId:3,tocIndex:8},{value:"string | UploadFile | File",paraId:3,tocIndex:8},{value:"-",paraId:3,tocIndex:8},{value:"open",paraId:3,tocIndex:8},{value:"\u663E\u793A\u6587\u4EF6\u9884\u89C8",paraId:3,tocIndex:8},{value:"boolean",paraId:3,tocIndex:8},{value:"-",paraId:3,tocIndex:8},{value:"onCancel",paraId:3,tocIndex:8},{value:"\u89E6\u53D1\u5173\u95ED\u6587\u4EF6\u9884\u89C8\u65F6\u6267\u884C",paraId:3,tocIndex:8},{value:"() => void",paraId:3,tocIndex:8},{value:"-",paraId:3,tocIndex:8},{value:"renderView",paraId:3,tocIndex:8},{value:"\u81EA\u5B9A\u4E49\u6587\u4EF6\u9884\u89C8\u6E32\u67D3",paraId:3,tocIndex:8},{value:"(dom: ReactElement, props: BizFileViewerProps, file: UploadFile) => ReactNode",paraId:3,tocIndex:8},{value:"-",paraId:3,tocIndex:8},{value:"width",paraId:3,tocIndex:8},{value:"\u5BBD\u5EA6",paraId:3,tocIndex:8},{value:"string | number",paraId:3,tocIndex:8},{value:"520",paraId:3,tocIndex:8},{value:"className",paraId:3,tocIndex:8},{value:"class \u7C7B",paraId:3,tocIndex:8},{value:"string",paraId:3,tocIndex:8},{value:"-",paraId:3,tocIndex:8},{value:"style",paraId:3,tocIndex:8},{value:"\u6837\u5F0F",paraId:3,tocIndex:8},{value:"CSSProperties",paraId:3,tocIndex:8},{value:"-",paraId:3,tocIndex:8},{value:"unsupportedView",paraId:3,tocIndex:8},{value:"\u4E0D\u652F\u6301\u9884\u89C8\u65F6\u663E\u793A\uFF0C\u81EA\u5B9A\u4E49\u5185\u5BB9\u3002",paraId:3,tocIndex:8},{value:"(info: { fileType, fileName, url }) => ReactNode",paraId:3,tocIndex:8},{value:"-",paraId:3,tocIndex:8},{value:"preview",paraId:3,tocIndex:8},{value:"\u540C ",paraId:3,tocIndex:8},{value:"antd Image previewType",paraId:3,tocIndex:8},{value:" \u914D\u7F6E\u3002",paraId:3,tocIndex:8},{value:"ImagePreviewType",paraId:3,tocIndex:8},{value:"-",paraId:3,tocIndex:8},{value:"\u4E0D\u652F\u6301 ",paraId:4,tocIndex:9},{value:"file",paraId:4,tocIndex:9},{value:"\uFF0C\u8BF7\u4F7F\u7528 ",paraId:4,tocIndex:9},{value:"fileList",paraId:4,tocIndex:9},{value:"\u3002",paraId:4,tocIndex:9},{value:"\u9664\u4E86\u4EE5\u4E0B\u914D\u7F6E\uFF0C\u548C ",paraId:5,tocIndex:9},{value:"BizFileViewer",paraId:5,tocIndex:9},{value:" \u51E0\u4E4E\u76F8\u540C\u3002",paraId:5,tocIndex:9},{value:"\u53C2\u6570",paraId:6,tocIndex:9},{value:"\u8BF4\u660E",paraId:6,tocIndex:9},{value:"\u7C7B\u578B",paraId:6,tocIndex:9},{value:"\u9ED8\u8BA4\u503C",paraId:6,tocIndex:9},{value:"fileList",paraId:6,tocIndex:9},{value:"\u9700\u8981\u9884\u89C8\u7684\u6587\u4EF6\u5217\u8868\u3002",paraId:6,tocIndex:9},{value:"UploadFile[]",paraId:6,tocIndex:9},{value:"-",paraId:6,tocIndex:9},{value:"uploadProps",paraId:6,tocIndex:9},{value:"\u540C ",paraId:6,tocIndex:9},{value:"antd Upload",paraId:6,tocIndex:9},{value:" \u914D\u7F6E\u3002",paraId:6,tocIndex:9},{value:"UploadProps",paraId:6,tocIndex:9},{value:"-",paraId:6,tocIndex:9},{value:"\u83B7\u53D6\u6587\u4EF6 ",paraId:7,tocIndex:11},{value:"url",paraId:7,tocIndex:11},{value:"\u3002",paraId:7,tocIndex:11},{value:"\u83B7\u53D6\u6587\u4EF6\u7C7B\u578B\u3002",paraId:8,tocIndex:12},{value:"\u83B7\u53D6\u7F29\u7565\u56FE\uFF0C\u5185\u7F6E\u4E86 ",paraId:9,tocIndex:13},{value:"audio",paraId:9,tocIndex:13},{value:" ",paraId:9,tocIndex:13},{value:"excel",paraId:9,tocIndex:13},{value:" ",paraId:9,tocIndex:13},{value:"file",paraId:9,tocIndex:13},{value:" ",paraId:9,tocIndex:13},{value:"pdf",paraId:9,tocIndex:13},{value:" ",paraId:9,tocIndex:13},{value:"video",paraId:9,tocIndex:13},{value:" ",paraId:9,tocIndex:13},{value:"word",paraId:9,tocIndex:13},{value:" \u7F29\u7565\u56FE\u6807\u3002",paraId:9,tocIndex:13},{value:"\u83B7\u53D6\u7F29\u7565\u56FE\uFF0C\u540C ",paraId:10,tocIndex:14},{value:"getFileThumbUrl",paraId:10,tocIndex:14},{value:"\uFF0C\u9002\u7528\u4E8E ",paraId:10,tocIndex:14},{value:"Upload",paraId:10,tocIndex:14},{value:" \u7EC4\u4EF6\u3002",paraId:10,tocIndex:14},{value:"\u5982\u679C\u4F20\u5165\u7684\u662F Blob \u5BF9\u8C61\uFF0C\u5C06\u65E0\u6CD5\u8BC6\u522B\u6587\u4EF6\u7C7B\u578B\uFF0C\u8FD4\u56DE\u9ED8\u8BA4\u6587\u4EF6\u56FE\u6807\u3002",paraId:11,tocIndex:14},{value:"\u5220\u9664\u9884\u89C8\u7F13\u5B58\u6587\u4EF6\uFF0C\u9002\u7528\u4E8E ",paraId:12,tocIndex:15},{value:"Upload",paraId:12,tocIndex:15},{value:" \u7EC4\u4EF6\u3002",paraId:12,tocIndex:15}]},17320:function(I,a){a.Z=`import React, { useEffect, useRef } from 'react';
import { parseOfdDocument, renderOfd } from 'ofd-pageview';
import { useSafeState } from 'rc-hooks';
import { Spin } from 'antd';

interface OfdViewProps {
  fileUrl: string;
  fileName?: string;
  screenWidth?: number;
}

const OfdView: React.FC<OfdViewProps> = ({ fileUrl, fileName, screenWidth }) => {
  const contentRef = useRef<HTMLDivElement>(null);
  const [processing, setProcessing] = useSafeState(false);

  useEffect(() => {
    if (contentRef.current) {
      setProcessing(true);
      contentRef.current.innerHTML = '';
      parseOfdDocument({
        ofd: fileUrl,
        success(res: any) {
          const ofdObj = res[0];
          const width = screenWidth || contentRef.current?.clientWidth || 800;
          const divs = renderOfd(width, ofdObj);
          for (const div of divs) {
            if (contentRef.current) {
              contentRef.current.appendChild(div);
            }
          }
          setProcessing(false);
        },
        error(err: any) {
          setProcessing(false);
          console.error(err);
          if (contentRef.current) {
            contentRef.current.innerHTML = \`\u8BE5\u6587\u4EF6\u4E0D\u652F\u6301\u9884\u89C8\uFF0C\u4F60\u53EF\u5C1D\u8BD5<a href=\${fileUrl} download=\${fileName}>\u70B9\u51FB\u4E0B\u8F7D</a>\u3002\`;
          }
        }
      });
    }
  }, [fileName, fileUrl, screenWidth, setProcessing]);

  return (
    <Spin spinning={processing}>
      <div ref={contentRef} style={{ overflow: 'hidden' }} />
    </Spin>
  );
};

export default OfdView;
`},87032:function(I,a){a.Z=`import React from 'react';
import { Button } from 'antd';
import { BizFileViewer } from 'antd-more';
import { useSetState } from 'rc-hooks';

function Demo() {
  const [state, setState] = useSetState({
    openFile1: false,
    openFile2: false
  });

  return (
    <div>
      <Button onClick={() => setState({ openFile1: true })}>\u9884\u89C8\u56FE\u7247-UploadFile</Button>
      <Button onClick={() => setState({ openFile2: true })}>\u9884\u89C8\u56FE\u7247-url</Button>
      <BizFileViewer
        file={{
          uid: '-1',
          url: 'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png',
          name: '\u56FE\u7247\u6587\u4EF6\u540D\u79F0111'
        }}
        open={state.openFile1}
        onCancel={() => setState({ openFile1: false })}
      />
      <BizFileViewer
        file="https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png"
        open={state.openFile2}
        onCancel={() => setState({ openFile2: false })}
      />
    </div>
  );
}

export default Demo;
`},33142:function(I,a){a.Z=`import React from 'react';
import { useSetState } from 'rc-hooks';
import { Button, UploadFile } from 'antd';
import { BizFileViewer } from 'antd-more';
import TestOfd from './assets/test.ofd';
import OfdView from './OfdView';

const data = {
  ofd: {
    uid: '-1',
    url: TestOfd,
    name: 'test.ofd'
  }
};

function Demo() {
  const [state, setState] = useSetState({
    open: false,
    file: undefined as UploadFile | undefined
  });

  const preview = async (type: keyof typeof data) => {
    setState({ open: true, file: data[type] });
  };

  return (
    <div>
      <Button onClick={() => preview('ofd')}>\u9884\u89C8ofd</Button>
      <BizFileViewer
        file={state.file}
        open={state.open}
        onCancel={() => setState({ open: false })}
        renderView={(dom, { file }) => {
          if (file) {
            const url = file.url || '';
            const isOfd = file.name.slice(-4) === '.ofd' || url.slice(-4) === '.ofd';
            if (url && isOfd) {
              return <OfdView fileUrl={url} fileName={file.name} />;
            }
          }
          return dom;
        }}
      />
    </div>
  );
}

export default Demo;
`},19132:function(I,a){a.Z=`import React from 'react';
import { useSetState } from 'rc-hooks';
import { Button, UploadFile } from 'antd';
import { BizFileViewer } from 'antd-more';
import TestImage from './assets/test.jpg';
import TestAudio from './assets/test.mp3';
import TestVideo from './assets/test.mp4';
import TestPdf from './assets/test.pdf';
import TestWord from './assets/test.docx';
import TestExcel from './assets/test.xlsx';
import TestZip from './assets/test.zip';

const data = {
  image: {
    uid: '-1',
    url: TestImage,
    name: 'test.jpg'
  },
  audio: {
    uid: '-2',
    url: TestAudio,
    name: 'test.mp3'
  },
  video: {
    uid: '-3',
    url: TestVideo,
    name: 'test.mp4'
  },
  pdf: {
    uid: '-4',
    url: TestPdf,
    name: 'test.pdf'
  },
  word: {
    uid: '-5',
    url: TestWord,
    name: 'test.docx'
  },
  excel: {
    uid: '-6',
    url: TestExcel,
    name: 'test.xlsx'
  },
  zip: {
    uid: '-7',
    url: TestZip,
    name: 'test.zip'
  }
};

function Demo() {
  const [state, setState] = useSetState({
    open: false,
    file: undefined as UploadFile | undefined
  });

  const preview = (type: keyof typeof data) => {
    setState({ open: true, file: data[type] });
  };

  return (
    <div>
      <Button onClick={() => preview('image')}>\u9884\u89C8\u56FE\u7247</Button>
      <Button onClick={() => preview('audio')}>\u9884\u89C8\u97F3\u9891</Button>
      <Button onClick={() => preview('video')}>\u9884\u89C8\u89C6\u9891</Button>
      <Button onClick={() => preview('pdf')}>\u9884\u89C8pdf</Button>
      <Button onClick={() => preview('word')}>\u9884\u89C8word</Button>
      <Button onClick={() => preview('excel')}>\u9884\u89C8excel</Button>
      <Button onClick={() => preview('zip')}>\u9884\u89C8zip</Button>
      <BizFileViewer
        file={state.file}
        open={state.open}
        onCancel={() => setState({ open: false })}
        // \u81EA\u5B9A\u4E49\u4E0D\u652F\u6301\u6587\u4EF6\u7C7B\u578B\u9884\u89C8
        // unsupportedView={(info) => {
        //   console.log(info);
        //   return (
        //     <div style={{ padding: 24, background: 'white', borderRadius: 4 }}>
        //       {info.fileName} \u4E0D\u652F\u6301\u9884\u89C8\uFF01
        //     </div>
        //   );
        // }}
      />
    </div>
  );
}

export default Demo;
`},337:function(I,a){a.Z=`import React from 'react';
import { BizFileViewer } from 'antd-more';
import TestImage from './assets/test.jpg';
import TestAudio from './assets/test.mp3';
import TestVideo from './assets/test.mp4';
import TestPdf from './assets/test.pdf';
import TestWord from './assets/test.docx';
import TestExcel from './assets/test.xlsx';
import TestZip from './assets/test.zip';
import TestOfd from './assets/test.ofd';
import OfdView from './OfdView';

const fileList = [
  {
    uid: '-1',
    url: TestImage,
    name: 'test.jpg'
  },
  {
    uid: '-2',
    url: TestAudio,
    name: 'test.mp3'
  },
  {
    uid: '-3',
    url: TestVideo,
    name: 'test.mp4'
  },
  {
    uid: '-4',
    url: TestPdf,
    name: 'test.pdf'
  },
  {
    uid: '-5',
    url: TestWord,
    name: 'test.docx'
  },
  {
    uid: '-6',
    url: TestExcel,
    name: 'test.xlsx'
  },
  {
    uid: '-7',
    url: TestZip,
    name: 'test.zip'
  },
  {
    uid: '-8',
    url: TestOfd,
    name: 'test.ofd'
  }
].map((item) => ({
  ...item,
  status: 'done' as const,
  thumbUrl: BizFileViewer.getFileThumbUrl(item)
}));

function Demo() {
  return (
    <BizFileViewer.PictureCard
      fileList={fileList}
      renderView={(dom, { file }) => {
        const name = typeof file === 'string' ? '' : file.name;
        const url = typeof file === 'string' ? file : file.url || file.preview;
        if (url && (name.slice(-4) === '.ofd' || url.slice(-4) === '.ofd')) {
          return <OfdView fileUrl={url} />;
        }
        return dom;
      }}
    />
  );
}

export default Demo;
`},48562:function(I,a){a.Z=`import React, { useId } from 'react';
import { BizForm, BizFormProps } from 'antd-more';
import { useSetState } from 'rc-hooks';
import { sleep } from 'ut2';
import { Button, Collapse, Divider, Flex, Select, Switch } from 'antd';

const DemoForm: React.FC<BizFormProps> = ({
  labelWidth = 84,
  hideLabel = false,
  layout = 'horizontal',
  requiredMark = true,
  size = 'middle',
  variant = 'outlined',
  children,
  ...restProps
}) => {
  const formName = useId();
  const defaultState = { labelWidth, hideLabel, layout, requiredMark, size, variant };
  const [state, setState] = useSetState({ ...defaultState });

  return (
    <div className="demo-form">
      <Collapse
        bordered={false}
        items={[
          {
            key: '1',
            label: '\u5207\u6362\u663E\u793A/\u9690\u85CF\u914D\u7F6E\u9762\u677F',
            extra: (
              <Button
                type="link"
                size="small"
                onClick={(e) => {
                  e.stopPropagation();
                  setState({ ...defaultState });
                }}
              >
                \u70B9\u51FB\u6062\u590D\u521D\u59CB\u914D\u7F6E
              </Button>
            ),
            children: (
              <Flex gap={16} align="center" wrap>
                <div>
                  layout:&nbsp;
                  <Select
                    options={[
                      { label: 'vertical', value: 'vertical' },
                      { label: 'horizontal', value: 'horizontal' },
                      { label: 'inline', value: 'inline' }
                    ]}
                    value={state.layout}
                    onChange={(value) => {
                      setState({ layout: value });
                    }}
                    style={{ width: 120 }}
                  />
                </div>
                <div>
                  requiredMark:&nbsp;
                  <Select
                    options={[
                      { label: 'true', value: true },
                      { label: 'false', value: false },
                      { label: 'optional', value: 'optional' },
                      { label: 'customize', value: 'customize' }
                    ]}
                    value={state.requiredMark}
                    onChange={(value) => {
                      setState({ requiredMark: value });
                    }}
                    style={{ width: 120 }}
                  />
                </div>
                <div>
                  size:&nbsp;
                  <Select
                    options={[
                      { label: 'small', value: 'small' },
                      { label: 'middle', value: 'middle' },
                      { label: 'large', value: 'large' }
                    ]}
                    value={state.size}
                    onChange={(value) => {
                      setState({ size: value });
                    }}
                    style={{ width: 120 }}
                  />
                </div>
                <div>
                  variant:&nbsp;
                  <Select
                    options={[
                      { label: 'outlined', value: 'outlined' },
                      { label: 'filled', value: 'filled' },
                      { label: 'borderless', value: 'borderless' },
                      { label: 'underlined', value: 'underlined' }
                    ]}
                    value={state.variant}
                    onChange={(value) => {
                      setState({ variant: value });
                    }}
                    style={{ width: 120 }}
                  />
                </div>
                <div>
                  labelWidth:&nbsp;
                  <Select
                    options={[
                      { label: '84', value: 84 },
                      { label: '98', value: 98 },
                      { label: '112', value: 112 },
                      { label: '126', value: 126 },
                      { label: '140', value: 140 },
                      { label: '154', value: 154 },
                      { label: '168', value: 168 },
                      { label: 'auto', value: 'auto' }
                    ]}
                    value={state.labelWidth}
                    onChange={(value) => {
                      setState({ labelWidth: value });
                    }}
                    style={{ width: 120 }}
                  />
                </div>
                <div>
                  hideLabel:&nbsp;
                  <Switch
                    value={state.hideLabel}
                    onChange={(v) => {
                      setState({
                        hideLabel: v
                      });
                    }}
                  />
                </div>
              </Flex>
            )
          }
        ]}
      />
      <Divider />
      <BizForm
        name={formName}
        onFinish={async (values) => {
          await sleep(500);
          console.log(values);
        }}
        scrollToFirstError={{
          behavior(actions) {
            actions.forEach(({ el, top }) => {
              // implement the scroll anyway you want
              el.scrollTop = top - 76;
            });
          }
        }}
        {...state}
        {...restProps}
      >
        {children}
      </BizForm>
    </div>
  );
};

export default DemoForm;
`},11322:function(I,a){a.Z=`import { sleep } from 'ut2';

// \u4E0A\u4F20\u6587\u4EF6
export async function uploadFile(file: File): Promise<{ fssid: string }> {
  console.log('uploadFile: ', file);

  await sleep();
  if (Math.random() > 0.2) {
    return {
      fssid: \`\${Math.random().toString(16).substring(2)}\`
    };
  }
  throw new Error('error');
}

// \u4E0B\u8F7D\u6587\u4EF6
export async function downloadFile(fssid: string) {
  console.log('downloadFile: ', fssid);

  await sleep();
  if (Math.random() > 0.2) {
    return {
      data: \`https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png\`
    };
  }
  throw new Error('error');
}

// \u53D1\u9001\u9A8C\u8BC1\u7801
export async function sendCaptcha(mobile?: string) {
  console.log('mobile: ', mobile);
  await sleep();
  return;
}
`},17401:function(I,a){a.Z=`import React from 'react';
import { BizFormItemUpload } from 'antd-more';
import DemoForm from './components/DemoForm';
import { uploadFile } from './services';

const Demo = () => {
  return (
    <div>
      <DemoForm labelWidth={126}>
        <BizFormItemUpload
          name="files"
          label="\u4EFB\u610F\u6587\u4EF6"
          tooltip={
            <div>
              \u5185\u7F6E\u56FE\u7247\u3001pdf\u3001audio\u3001video\u7B49\u7C7B\u578B\u7684\u6587\u4EF6\u7F29\u7565\u56FE\u53CA\u9884\u89C8\u3002
              <br />
              \u53EF\u4EE5\u901A\u8FC7 uploadProps.previewFile \u81EA\u5B9A\u4E49\u7F29\u7565\u56FE\uFF0C fileViewerProps \u81EA\u5B9A\u4E49\u9884\u89C8\u3002
            </div>
          }
          type="image"
          accept="*"
          maxCount={9}
          maxSize={1024 * 1024 * 10}
          multiple
          required
          onUpload={uploadFile}
        />
      </DemoForm>
    </div>
  );
};

export default Demo;
`}}]);
